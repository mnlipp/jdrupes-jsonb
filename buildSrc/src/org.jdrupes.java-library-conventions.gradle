/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
    // Apply the common convention plugin for shared build configuration between library and application projects.
    id 'org.jdrupes.java-common-conventions'

    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
    
    // Add publishing information
    id 'maven-publish'
    id 'signing'
    
    // Create OSGi info
    id 'biz.aQute.bnd.builder'
}

publishing {
    publications {
        maven(MavenPublication) {
            artifactId archivesBaseName        
        
            from components.java
  
            project.afterEvaluate {  
                pom {
                    name = project.bnd['Bundle-Name']
                    licenses {
                        license {
                            url = project.bnd['Bundle-License']
                        }
                    }
                    developers {
                        developer {
                            id = 'mnlipp'
                            name = 'Michael N. Lipp'
                            email = 'mnl@mnl.de'
                        }
                    }
                    scm {
                        url = 'https://github.com/mnlipp/jdrupes-jsonb'
                        connection = 'scm:git:https://github.com/mnlipp/jdrupes-jsonb.git'
                        developerConnection = 'scm:git:git@github.com:mnlipp/jdrupes-jsonb.git'
                    }
                }
            }
        }
    }
}
